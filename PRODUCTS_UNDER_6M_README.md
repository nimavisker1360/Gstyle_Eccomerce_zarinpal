# ูุญุตููุงุช ุฒุฑ ถ ูููู ุฑุงู - ุฑุงูููุง ุงุณุชูุงุฏู

## ุฎูุงุตู ุนููฺฉุฑุฏ

ุงู ุณุณุชู ูุญุตููุงุช ุฒุฑ ถ ูููู ุฑุงู ุฑุง ุงุฒ SerpAPI ุฌุณุชุฌู ฺฉุฑุฏูุ ูุญุตููุงุช ุฒูุงู ุฑุง ููุชุฑ ูโฺฉูุฏ ู ุฏุฑ ุฏุชุงุจุณ `discountproducts` ุฐุฎุฑู ูโฺฉูุฏ.

## ูฺฺฏโูุง ฺฉูุฏ

โ **ููุชุฑ ูุญุตููุงุช ุฒูุงู**: ุญุฐู ุฎูุฏฺฉุงุฑ ูุญุตููุงุช ุญุงู ฺฉููุงุช ุฒูุงูุ ฺฉุฒุ ุจุงุงู ู ุบุฑู  
โ **ุชุจุฏู ุงุฑุฒ**: ุชุจุฏู ุฎูุฏฺฉุงุฑ ููุช ุงุฒ ูุฑ ุชุฑฺฉู ุจู ุฑุงู ุงุฑุงู  
โ **ูุญุฏูุฏุช ููุช**: ููุท ูุญุตููุงุช ุฒุฑ ถ ูููู ุฑุงู ููุงุด ุฏุงุฏู ูโุดููุฏ  
โ **ฺฉุด ููุดููุฏ**: ฺฉุด ณฐ ุฏูููโุง ุฏุฑ ุญุงูุธู ู ฒด ุณุงุนุชู ุฏุฑ ุฏุชุงุจุณ  
โ **ุฌุณุชุฌู ููุงุฒ**: ุงุณุชูุงุฏู ุงุฒ ณ ฺฉูุฆุฑ ููุฒูุงู ุจุฑุง ูุชุงุฌ ุจูุชุฑ

## ุณุงุฎุชุงุฑ ูุงูโูุง

### 1. API Endpoint

```
src/app/api/shopping/products-under-6m/route.ts
```

### 2. ฺฉุงููพูููุช ููุงุด

```
src/components/shared/product/products-under-6m-grid.tsx
```

### 3. ุตูุญู ุงุตู

```
src/app/(root)/discounts/page.tsx
```

### 4. ูุฏู ุฏุชุงุจุณ

```
src/lib/db/models/discount-product.model.ts
```

## ูุญูู ุงุณุชูุงุฏู

### 1. ุฏุณุชุฑุณ ุจู API

```bash
GET /api/shopping/products-under-6m
GET /api/shopping/products-under-6m?refresh=true
```

### 2. ุฏุณุชุฑุณ ุจู ุตูุญู

```
/discounts
```

### 3. ุชุณุช API

```
/test-products-under-6m
```

## ฺฉูุฆุฑโูุง ุฌุณุชุฌู

### ูพูุดุงฺฉ ูุฑุฏุงูู

- `erkek giyim indirim`
- `erkek ayakkabฤฑ indirim`
- `erkek รงanta indirim`
- `erkek aksesuar indirim`

### ูพูุดุงฺฉ ฺฉูุฏฺฉุงู

- `รงocuk giyim indirim`
- `รงocuk ayakkabฤฑ indirim`
- `รงocuk oyuncak indirim`

### ุงูฺฉุชุฑููฺฉ

- `telefon aksesuar indirim`
- `bilgisayar aksesuar indirim`
- `kulaklฤฑk indirim`

### ูุฑุฒุด

- `spor malzemeleri indirim`
- `fitness ekipmanlarฤฑ indirim`

## ููุชุฑ ูุญุตููุงุช ุฒูุงู

ฺฉููุงุช ฺฉูุฏ ฺฉู ุจุงุนุซ ุญุฐู ูุญุตูู ูโุดููุฏ:

```typescript
const womenKeywords = [
  "kadฤฑn",
  "kฤฑz",
  "bayan",
  "kadฤฑnlar",
  "kฤฑzlar",
  "bayanlar",
  "kadฤฑn giyim",
  "kฤฑz giyim",
  "bayan giyim",
  "elbise",
  "bluz",
  "etek",
  "tayt",
  "legging",
  "kadฤฑn spor",
  "kฤฑz spor",
  "bayan spor",
  // ... ู ููุงุฑุฏ ุฏฺฏุฑ
];
```

## ุชุจุฏู ุงุฑุฒ

### ูุฑุฎ ุชุจุฏู

- **ฑ ูุฑ ุชุฑฺฉู = ณฐ,ฐฐฐ ุชููุงู** (ุซุงุจุช)
- **ฑ ุชููุงู = ฑฐ ุฑุงู**

### ูุซุงู

- ูุญุตูู ฑฐฐ ูุฑ = ณ,ฐฐฐ,ฐฐฐ ุชููุงู = ณฐ,ฐฐฐ,ฐฐฐ ุฑุงู
- ูุญุฏูุฏุช: ุญุฏุงฺฉุซุฑ ถ,ฐฐฐ,ฐฐฐ ุฑุงู

## ฺฉุด ู ุจูููโุณุงุฒ

### ฺฉุด ุญุงูุธู

- ูุฏุช: ณฐ ุฏููู
- ฺฉูุฏ: `products_under_6m_rials`

### ฺฉุด ุฏุชุงุจุณ

- ูุฏุช: ฒด ุณุงุนุช
- TTL: `expiresAt` field
- ุญุฏุงฺฉุซุฑ: ดฐ ูุญุตูู

### ุจูููโุณุงุฒ

- ุฌุณุชุฌู ููุงุฒ ุจุง ณ ฺฉูุฆุฑ
- ููุชุฑ ุฏุฑ ุณุทุญ API
- ุญุฐู ูุญุตููุงุช ุชฺฉุฑุงุฑ
- ูุฑุชุจโุณุงุฒ ุจุฑ ุงุณุงุณ ููุช

## ูพุงูโูุง ุฎุทุง

### ุฎุทุงูุง ุฑุงุฌ

```typescript
// ุนุฏู ุชูุธู API Key
{
  error: "Search service is not configured";
}

// ุฎุทุง ุฏุฑ ุฌุณุชุฌู
{
  error: "ุฎุทุง ุฏุฑ ุฌุณุชุฌู ูุญุตููุงุช ุฒุฑ ถ ูููู ุฑุงู";
}

// ุนุฏู ุงูุชู ูุญุตูู
{
  message: "ูฺ ูุญุตูู ุฒุฑ ถ ูููู ุฑุงู ุงูุช ูุดุฏ";
}
```

## ุชูุธูุงุช ูุญุท

### ูุชุบุฑูุง ููุฑุฏ ูุงุฒ

```bash
SERPAPI_KEY=your_serpapi_key_here
```

### ุงุชุตุงู ุฏุชุงุจุณ

```typescript
import { connectToDatabase } from "@/lib/db";
await connectToDatabase();
```

## ููููู ุฎุฑูุฌ

### ูพุงุณุฎ ูููู

```json
{
  "products": [
    {
      "id": "product_123",
      "title": "ุชโุดุฑุช ูุฑุฏุงูู",
      "price": 150,
      "currency": "TRY",
      "priceInRial": 4500000,
      "image": "image_url",
      "source": "Google Shopping"
    }
  ],
  "total": 1,
  "message": "ฑ ูุญุตูู ุฒุฑ ถ ูููู ุฑุงู ุงูุช ุดุฏ",
  "cached": false,
  "source": "serpapi"
}
```

## ุนุจโุงุจ

### ูุดฺฉูุงุช ุฑุงุฌ

1. **ุนุฏู ุงุชุตุงู ุจู SerpAPI**: ุจุฑุฑุณ API Key
2. **ุฎุทุง ุฏุชุงุจุณ**: ุจุฑุฑุณ ุงุชุตุงู MongoDB
3. **ุนุฏู ุงูุชู ูุญุตูู**: ุจุฑุฑุณ ฺฉูุฆุฑโูุง ุฌุณุชุฌู
4. **ูุดฺฉู ุชุจุฏู ุงุฑุฒ**: ุจุฑุฑุณ ุชุงุจุน `convertTRYToRial`

### ูุงฺฏโูุง ููุฏ

```typescript
console.log("๐ Starting products under 6 million Rials fetch...");
console.log(
  `โ Found ${filteredProducts.length} non-women's products under 6M Rials`
);
console.log(`๐พ Stored ${bulkOps.length} products under 6M Rials in DB`);
```

## ุชูุณุนู ู ุจูุจูุฏ

### ุงุฏูโูุง ุขูุฏู

- ุงุถุงูู ฺฉุฑุฏู ููุชุฑูุง ุจุดุชุฑ (ุฑูฺฏุ ุณุงุฒุ ุจุฑูุฏ)
- ุจูุจูุฏ ุงูฺฏูุฑุชู ุชุดุฎุต ูุญุตููุงุช ุฒูุงู
- ุงุถุงูู ฺฉุฑุฏู ููุงุณู ููุช ุจุง ูุฑูุดฺฏุงูโูุง ุงุฑุงู
- ุณุณุชู ุงุนูุงู ุจุฑุง ูุญุตููุงุช ุฌุฏุฏ

### ูุดุงุฑฺฉุช

ุจุฑุง ุจูุจูุฏ ุงู ุณุณุชูุ ูุทูุงู:

1. ุชุณุช ฺฉูุฏ ู ุจุงฺฏโูุง ุฑุง ฺฏุฒุงุฑุด ุฏูุฏ
2. ูพุดููุงุฏุงุช ุฎูุฏ ุฑุง ุงุฑุงุฆู ุฏูุฏ
3. ฺฉุฏ ุจูุจูุฏ ุงูุชู ุฑุง ุงุฑุณุงู ฺฉูุฏ
